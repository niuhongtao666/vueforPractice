<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>

<div id="app">
    <input type="checkbox" v-model="checkedAll" id="all" @click="selectAll()">
    <label for="all">全选:</label>
    <br>
    <hr/>
    <template v-for="(item, index) in list">
        <input type="checkbox" :value="item.value" :id="item.value" v-model="checked" />
        <label :for="item.value">{{ item.label }}</label>
        <br>
    </template>
    <br>
    <p>选择了:{{ checked }}</p>
</div>

<script src="https://unpkg.com/vue/dist/vue.min.js"></script>
<script>
    const app = new Vue({
        el: '#app',
        data: {
            checked:[],
            checkedAll:false,
            list:[
                {
                    id:1,
                    value:'javascript',
                    label:'JavaScript'
                },{
                    id:2,
                    value:'html',
                    label:'HTML'
                },{
                    id:3,
                    value:'css',
                    label:'CSS'
                }]
        },
        methods:{
            selectAll:function(){
                if(this.checkedAll){
                    // 全不选
                    this.checked = [];
                }else{
                    // 全选
                    this.checked = [];
                    this.list.forEach((item)=>{
                        this.checked.push(item.value);
                    })
                }
            }
        },
        watch:{
            checked: function(){
                let self = this;
                if(this.checked.length === this.list.length){
                    self.checkedAll = true;
                } else{
                    self.checkedAll = false;
                }
            }
        }

    })
</script>

</body>
</html>
